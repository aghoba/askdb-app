SELECT DISTINCT ON (user_id) user_id, id AS subscription_id, plan_id, status, started_at, ended_at
FROM subscriptions
ORDER BY user_id, started_at ASC;