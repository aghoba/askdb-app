SELECT DISTINCT ON (user_id) user_id, id AS payment_id, amount, status, paid_at
FROM payments
ORDER BY user_id, paid_at DESC;